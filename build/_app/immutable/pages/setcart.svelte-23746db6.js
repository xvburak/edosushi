import{S as ke,i as Ee,s as ye,l as Q,g as C,e as m,t as I,k as P,c as b,a as g,h as w,d as u,m as S,b as T,F as r,j,E as se,G as re,L as ne,Y as ue,Q as oe,R as Ie,w as we,x as De,y as Te,q as x,o as ae,B as Ve,p as $e,n as qe}from"../chunks/index-567b05ba.js";import{s as Ne}from"../chunks/sets-e76452ef.js";import{c as U}from"../chunks/cart-bb910428.js";import"../chunks/index-3d151600.js";function he(a,t,l){const e=a.slice();return e[11]=t[l],e}function _e(a,t,l){const e=a.slice();return e[14]=t[l],e}function de(a){let t,l,e=a[14].ks+"",s,f,n,c,o,h=a[14].produkt+"",v;return{c(){t=m("div"),l=m("p"),s=I(e),f=I("ks"),n=P(),c=m("div"),o=m("p"),v=I(h),this.h()},l(E){t=b(E,"DIV",{class:!0});var p=g(t);l=b(p,"P",{});var d=g(l);s=w(d,e),f=w(d,"ks"),d.forEach(u),n=S(p),c=b(p,"DIV",{});var i=g(c);o=b(i,"P",{});var k=g(o);v=w(k,h),k.forEach(u),i.forEach(u),p.forEach(u),this.h()},h(){T(t,"class","flex space-x-2")},m(E,p){C(E,t,p),r(t,l),r(l,s),r(l,f),r(t,n),r(t,c),r(c,o),r(o,v)},p(E,p){p&1&&e!==(e=E[14].ks+"")&&j(s,e),p&1&&h!==(h=E[14].produkt+"")&&j(v,h)},d(E){E&&u(t)}}}function pe(a){let t,l=a[14].produkt&&de(a);return{c(){l&&l.c(),t=Q()},l(e){l&&l.l(e),t=Q()},m(e,s){l&&l.m(e,s),C(e,t,s)},p(e,s){e[14].produkt?l?l.p(e,s):(l=de(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){l&&l.d(e),e&&u(t)}}}function Be(a){let t,l,e,s,f,n,c,o,h,v,E;return{c(){t=m("div"),l=m("button"),e=I("-"),s=P(),f=m("p"),n=I("0"),c=P(),o=m("button"),h=I("+"),this.h()},l(p){t=b(p,"DIV",{class:!0});var d=g(t);l=b(d,"BUTTON",{class:!0});var i=g(l);e=w(i,"-"),i.forEach(u),s=S(d),f=b(d,"P",{});var k=g(f);n=w(k,"0"),k.forEach(u),c=S(d),o=b(d,"BUTTON",{class:!0});var V=g(o);h=w(V,"+"),V.forEach(u),d.forEach(u),this.h()},h(){T(l,"class","svelte-1uhhywf"),T(o,"class","svelte-1uhhywf"),T(t,"class","flex actionbar space-x-2")},m(p,d){C(p,t,d),r(t,l),r(l,e),r(t,s),r(t,f),r(f,n),r(t,c),r(t,o),r(o,h),v||(E=oe(o,"click",a[9]),v=!0)},p:se,d(p){p&&u(t),v=!1,E()}}}function Pe(a){let t,l=a[3],e=[];for(let s=0;s<l.length;s+=1)e[s]=me(he(a,l,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=Q()},l(s){for(let f=0;f<e.length;f+=1)e[f].l(s);t=Q()},m(s,f){for(let n=0;n<e.length;n+=1)e[n].m(s,f);C(s,t,f)},p(s,f){if(f&105){l=s[3];let n;for(n=0;n<l.length;n+=1){const c=he(s,l,n);e[n]?e[n].p(c,f):(e[n]=me(c),e[n].c(),e[n].m(t.parentNode,t))}for(;n<e.length;n+=1)e[n].d(1);e.length=l.length}},d(s){re(e,s),s&&u(t)}}}function ve(a){let t,l,e,s,f,n=a[11].quantity+"",c,o,h,v,E,p,d;function i(){return a[7](a[11])}function k(){return a[8](a[11])}return{c(){t=m("div"),l=m("button"),e=I("-"),s=P(),f=m("p"),c=I(n),o=P(),h=m("button"),v=I("+"),E=P(),this.h()},l(V){t=b(V,"DIV",{class:!0});var $=g(t);l=b($,"BUTTON",{class:!0});var H=g(l);e=w(H,"-"),H.forEach(u),s=S($),f=b($,"P",{});var K=g(f);c=w(K,n),K.forEach(u),o=S($),h=b($,"BUTTON",{class:!0});var N=g(h);v=w(N,"+"),N.forEach(u),E=S($),$.forEach(u),this.h()},h(){T(l,"class","svelte-1uhhywf"),T(h,"class","svelte-1uhhywf"),T(t,"class","flex actionbar space-x-2")},m(V,$){C(V,t,$),r(t,l),r(l,e),r(t,s),r(t,f),r(f,c),r(t,o),r(t,h),r(h,v),r(t,E),p||(d=[oe(l,"click",i),oe(h,"click",k)],p=!0)},p(V,$){a=V,$&8&&n!==(n=a[11].quantity+"")&&j(c,n)},d(V){V&&u(t),p=!1,Ie(d)}}}function me(a){let t,l=a[11].id==a[0].id&&ve(a);return{c(){l&&l.c(),t=Q()},l(e){l&&l.l(e),t=Q()},m(e,s){l&&l.m(e,s),C(e,t,s)},p(e,s){e[11].id==e[0].id?l?l.p(e,s):(l=ve(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){l&&l.d(e),e&&u(t)}}}function Se(a){let t,l,e,s,f=a[0].title+"",n,c,o,h,v,E,p,d,i,k,V,$,H,K,N,Y,z,F,G,R=a[0].price+"",A,ee,L=a[0].contents,q=[];for(let _=0;_<L.length;_+=1)q[_]=pe(_e(a,L,_));function ie(_,D){return D&9&&(Y=null),Y==null&&(Y=!!_[3].includes(_[0])),Y?Pe:Be}let J=ie(a,-1),B=J(a);return{c(){t=m("div"),l=m("div"),e=m("div"),s=m("h1"),n=I(f),c=P(),o=m("h1"),h=I("("),v=I(a[1]),E=I(" ks)"),p=P(),d=m("div");for(let _=0;_<q.length;_+=1)q[_].c();i=P(),k=m("p"),V=I("("),$=I(a[2]),H=I(")"),K=P(),N=m("div"),B.c(),z=P(),F=m("div"),G=m("p"),A=I(R),ee=I(" K\u010D"),this.h()},l(_){t=b(_,"DIV",{class:!0});var D=g(t);l=b(D,"DIV",{class:!0});var y=g(l);e=b(y,"DIV",{class:!0});var O=g(e);s=b(O,"H1",{class:!0});var ce=g(s);n=w(ce,f),ce.forEach(u),c=S(O),o=b(O,"H1",{class:!0});var M=g(o);h=w(M,"("),v=w(M,a[1]),E=w(M," ks)"),M.forEach(u),O.forEach(u),p=S(y),d=b(y,"DIV",{class:!0});var W=g(d);for(let le=0;le<q.length;le+=1)q[le].l(W);i=S(W),k=b(W,"P",{class:!0});var X=g(k);V=w(X,"("),$=w(X,a[2]),H=w(X,")"),X.forEach(u),W.forEach(u),y.forEach(u),K=S(D),N=b(D,"DIV",{class:!0});var Z=g(N);B.l(Z),z=S(Z),F=b(Z,"DIV",{class:!0});var fe=g(F);G=b(fe,"P",{});var te=g(G);A=w(te,R),ee=w(te," K\u010D"),te.forEach(u),fe.forEach(u),Z.forEach(u),D.forEach(u),this.h()},h(){T(s,"class","title"),T(o,"class","opacity-50"),T(e,"class","header mb-4 group group-hover:hidden"),T(k,"class","opacity-50 mt-4"),T(d,"class","parts mb-4 group-hover:hidden"),T(l,"class","flex-1 hover:bg-white group rounded-md"),T(F,"class","flex actionbar space-x-2"),T(N,"class","flex justify-between"),T(t,"class","w-full text-white leading-tight flex flex-col space-y-6 justify-between")},m(_,D){C(_,t,D),r(t,l),r(l,e),r(e,s),r(s,n),r(e,c),r(e,o),r(o,h),r(o,v),r(o,E),r(l,p),r(l,d);for(let y=0;y<q.length;y+=1)q[y].m(d,null);r(d,i),r(d,k),r(k,V),r(k,$),r(k,H),r(t,K),r(t,N),B.m(N,null),r(N,z),r(N,F),r(F,G),r(G,A),r(G,ee)},p(_,[D]){if(D&1&&f!==(f=_[0].title+"")&&j(n,f),D&2&&j(v,_[1]),D&1){L=_[0].contents;let y;for(y=0;y<L.length;y+=1){const O=_e(_,L,y);q[y]?q[y].p(O,D):(q[y]=pe(O),q[y].c(),q[y].m(d,i))}for(;y<q.length;y+=1)q[y].d(1);q.length=L.length}D&4&&j($,_[2]),J===(J=ie(_,D))&&B?B.p(_,D):(B.d(1),B=J(_),B&&(B.c(),B.m(N,z))),D&1&&R!==(R=_[0].price+"")&&j(A,R)},i:se,o:se,d(_){_&&u(t),re(q,_),B.d()}}}function Ce(a,t,l){let e;ne(a,U,i=>l(3,e=i));let{product:s}=t;const f=i=>{for(let k of e)if(k.id===i.id){i.quantity+=1,U.set(e);return}ue(U,e=[...e,i],e)},n=i=>{for(let k of e)if(k.id===i.id){i.quantity+=1,U.set(e);return}},c=i=>{for(let k of e)if(k.id===i.id){i.quantity>1?(i.quantity-=1,U.set(e)):ue(U,e=e.filter(V=>V!=i),e);return}};let o=s.contents,h=0,v="";for(let i=0;i<o.length;i++)o[i].obsah!=0&&(i===0?(h+=o[i].ks,v+=`${o[i].obsah}`,console.log(v)):(h+=o[i].ks,v+=`, ${o[i].obsah}`,console.log(v)));const E=i=>c(i),p=i=>n(i),d=()=>f(s);return a.$$set=i=>{"product"in i&&l(0,s=i.product)},[s,h,v,e,f,n,c,E,p,d]}class Oe extends ke{constructor(t){super(),Ee(this,t,Ce,Se,ye,{product:0})}}function be(a,t,l){const e=a.slice();return e[5]=t[l],e}function ge(a){let t,l;return t=new Oe({props:{product:a[5]}}),{c(){we(t.$$.fragment)},l(e){De(t.$$.fragment,e)},m(e,s){Te(t,e,s),l=!0},p(e,s){const f={};s&1&&(f.product=e[5]),t.$set(f)},i(e){l||(x(t.$$.fragment,e),l=!0)},o(e){ae(t.$$.fragment,e),l=!1},d(e){Ve(t,e)}}}function Ue(a){let t,l,e=a[0],s=[];for(let n=0;n<e.length;n+=1)s[n]=ge(be(a,e,n));const f=n=>ae(s[n],1,1,()=>{s[n]=null});return{c(){t=m("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){t=b(n,"DIV",{class:!0});var c=g(t);for(let o=0;o<s.length;o+=1)s[o].l(c);c.forEach(u),this.h()},h(){T(t,"class","flex space-x-8 p-4 flex-1 ")},m(n,c){C(n,t,c);for(let o=0;o<s.length;o+=1)s[o].m(t,null);l=!0},p(n,[c]){if(c&1){e=n[0];let o;for(o=0;o<e.length;o+=1){const h=be(n,e,o);s[o]?(s[o].p(h,c),x(s[o],1)):(s[o]=ge(h),s[o].c(),x(s[o],1),s[o].m(t,null))}for(qe(),o=e.length;o<s.length;o+=1)f(o);$e()}},i(n){if(!l){for(let c=0;c<e.length;c+=1)x(s[c]);l=!0}},o(n){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)ae(s[c]);l=!1},d(n){n&&u(t),re(s,n)}}}function je(a,t,l){let e;return ne(a,U,s=>l(1,s)),ne(a,Ne,s=>l(0,e=s)),[e]}class Le extends ke{constructor(t){super(),Ee(this,t,je,Ue,ye,{})}}export{Le as default};
